\section{Introduction}

%Mention a few classic papers, mention the problem.
Game theory is a natural tool to model the behavior of animals, who must respond to the behavior of other animals as well as complex and rapidly shifting environments. A classical application of game-theory is patch-choice models, where the ideal free distribution emerges to explain spatial distributions of populations \citep{cressman2004ideal}. A game theoretical approach has been fruitful in studying habitat choice in simple ecosystems under the assumption of static populations or simplifying the habitat to a few discrete patches, \citep{cressman2010ideal, valdovinos2010consequences}. Real-life habitat choice consists of animals choosing where to forage in a continuous landscape, with varying intra-specific competition and external risk factors. Models that can handle such systems allow for better models of habitat distribution, and represent a significant step forward in understanding natural systems \citep{morris2003shadows}.

A common simplification when including behavior in population models is to assume that at least one payoff is linear in the choice of strategy, \citep{krivan1997dynamic}. Linear models are suffficient to explain simple predator-prey dynamics with optimal behavior, \citep{kvrivan2007lotka}, but non-linear effects in natural systems are substantial \citep{gross2009generalized}. A population game is a system of interacting populations where each individual chooses the best strategy at every instant. A general model for population games is set out in \citep{vincent2005evolutionary} where optimal behavior is introduced by every population maximizing the pr. capita growth at every instant. This implicitly assumes monomorphic populations, where all individuals intrinsically act as one \citep{malone2020ecology,stump2017optimally}. We propose a modification of the approach from \citep{vincent2005evolutionary} in the vein of \citep{cressman2010ideal}, based on individual optimization in the context of habitat selection. Instead of assuming a population where all individuals act in lockstep, we assume that each animal acts independently, but that its risk-reward calculus is affected by the population mean behavior, as in the ideal free distribution \citep{fretwell1969territorial}. This marks a return to the ideas of playing the field, \citep{smith1982evolution} and habitat selection games {cressman2010ideal}. If we assume large populations and that the animals of each type are indistinguishable, the game at every instant game can be modeled as a mean field game with multiple types.


The evolution of mean-field games has followed two parallel tracks, one in mathematical biology through the ideal free distribution and habitat selection games \citep{fretwell1969territorial, cressman2004ideal, kvrivan2008ideal, cressman2010ideal, broom2013game, parker1978searching}, and the other in mathematical optimization based directly on anonymous actors \citep{lasry2007mean, aumann1964markets, blanchet2016optimal}. The main focus in ecology has been studying specific families of games in depth \cite{broom2013game}, while the focus in mathematical optimization has been in establishing uniqueness and existence of Nash equilibria through the toolbox of variational inequalities \citep{karamardian1969nonlinear, gabay1980uniqueness, nabetani2011parametrized}. This allows us to bring the entire toolbox of variational inequalities to bear on population games.


Using the theory of variational inequalities, we show that population games based on individual optimization have a unique equilibrium under very mild assumptions. Our approach allows us to handle both continuous and discrete strategy spaces, but more technical assumptions are required for existence in the continuous setting. The classical ideal free distribution emerges as a special case of our approach, providing a compelling argument for the mean-field approach. We demonstrate our approach by applying it to a Rosenzweig-MacArthur system with intraspecific predator competition in continuous space. We modify the system so both predators and consumers have instantaneous optimal behavior based on maximizing the individual growth rate. We show that the Rosenzweig-MacArthur system with optimal behavior satisfies the criteria for existence and uniqueness of equilibria as a population game, and analyze the sensitivity of the system.


In addition to our theoretical advances, we implement a simple and efficient numerical method of finding Nash equilibria and equilbria of population games. The approach is applied to our case of the behaviorally modified Rosenzweig-MacArthur system. We examine the population dynamics through a phase portrait, where they appear to be asymptotically stable. We study the population levels and spatial distribution at equilibrium as a function of the carrying capacity, intraspecific predator competition. The rest of the paper is organized as follows: We start with the general setting. After building the general setting, we introduce the machinery of variational inequalities in the context of game theory. Here we show the general uniqueness and existence results. We proceed to study the concrete Rosenzweig-MacArthur model, showing existence and uniqueness of the Nash equilibrium and population equilibrium. We analyze the results, and discuss the implications of both the results and our theoretical results.

%We illustrate the general theory with a behaviorally modified Rosenzweig-MacArthur system. We study the population dynamics in this system,  and the sensitivity of population levels and strategy distributions to the carrying capacity and intraspecific predator competition.

%Add references to krivan and cressmans other articles, including the empirical one by krivan.

%The study of population games through the ideal free distribution has had great success in the ecological litterature, but it has the weakness of being unable to handle games with non-linear interactions. Here we solve this problem by introducing results from the study of mean field games in mathematical optimization.


%In the study of habitat-choice games, the ideal free distribution is the correct choice, in contrast to full population optimization (cite monroe), with exceptions where inherently monomorphic populations are a resaonable assumption.
%The theory of population games has developed in the area of mathematical optimization, \citep{aumann} and mathematical biology simultaneously \citep{cressman,kvivran,etc}. In the field of mathematical optimization, it is typically described as static mean field game theory and is characterized by arriving at the ideal free distribution mathematical biology.
