\section{Discussion and conclusion}

We study study population games, based on optimizing individual growth, modifying the definition of \citep{vincent2005evolutionary}. This is done through the introduction of mean-field games, which we show generalizes the ideal free distribution \citep{fretwell1969territorial}. We demonstrate that assuming a monomorphic population is not a viable alternative to the mean-field approach. We do this by showing that the pr. capita payoff a monomorphic population is twice what could be expected from playing the field  \citep{parker1978searching} . Hence, though a population of animals may all be indistinguishable, and appear to follow the same behavioral strategy, it is important to consider how this monomorphism emerges.

We establish existence and uniqueness of Nash equilibria for a large class of games using variational inequalities. In particular, we are able to handle continuous strategy spaces. Having determined existence and uniqueness of Nash equilibrium for the instantaneous game, we showed the existence of fixed-points for suitably nice population games. This provides a simple criterion giving existence and uniqueness for population games, extending theorems based on specific models \citep{cressman2010ideal,sandholm2010population}. Our focus has been on population games, but the results on existence and uniqueness of Nash equilibria are generally applicable to games in biology.


We show existence and uniqueness of Nash equilibria and population equilibria of a Rosenzweig-MacArthur model with behavior in a continuous habitat. This is done by using the general theory, illustrating that the problem of showing uniqueness and existence of equilibria for complex population games is feasible.



After showing existence and uniqueness, we analyzed the modified Rosenzweig-MacArthur game numerically by discretizing space. Adding behavior stabilized the population dynamics, but we have been unable to show analytically why this stability emerges. A possible of attack  for this could be drawing on the theory of complementarity-constrained dynamical systems \citep{adly2018variational,brogliato2020dynamical}. In the sensitivity analysis, we found that increasing carrying capacity causes an all-round population increase. When increasing intrapredator competition, we found that sufficiently competitive predators were concentrated in the most unproductive zones. In accordance with the ideal free distribution, the population of consumers was dispersed even though the predators were far away due to intraspecific competition.


We have not touched on the topic of differential games, where the payoff functions depend on e.g. the entire life history. We expect that the use of variational inequalities and complementarity problems can be extended to differential games. For instance by using Pontryagins maximum principle and approaching the game as a differential variational inequalities \citep{pang2008differential}. Alternatively, the Nash equilibrium can be found explicitly in using backwards time-stepping for for the Hamilton-Jacobi-Bellman equation.

  %We show the framework of mean-field games is applicable in ecology through multi-species population games with optimal individual behavior. We establish theoretical results for existence and uniqueness of Nash equilibria with continuous strategy spaces.

%The payoff for an individual in a large population of indistinguishable individuals is shown much higher when all individuals are a-priori assumed to follow the same strategy.



%We show that a behavorially modified Rosenzweig-MacArthur model has a unique equilibrium by drawing on the general theory we developed. This opens up for sensitivity analysis of the Rosenzweig-MacArthur with respect to the carrying capacity, and the intraspecific predator competition. This analysis is facilitated by a numerical approach based on complementarity. Posing the problem as a complementarity problem changes an optimization problem into a feasibility problem, which is handily solved by IPOPT using the HSL subroutines. The runtimes were impressive, even with a discretization with several hundred grid points.





%KKT can be reformulated as VI, developed by stampacchia mangasarian goeleven et al
%VI solvable numerically, NE existence gives that minimum exists and is 0
%Wide class of VI unique solution, applicable?
%Write up equations for two players, remark that the same for N

%\begin{enumerate}
%  \item What did we find?
%    Highlighted difference between individual and group-level Optimization
%    Concrete calculations showing that individual optimization is less efficient than group level
%    Showed existence and uniqueness of Nash equilibrium
%    Showed existence and uniqueness of population game equilibrium
%    Demonstrted on behavorially modified Rosenzweig-MacArthur model
%    Fast and efficient numerical approach
%  \item What do our results mean?
%    we now have good criteria for uniqueness and existence, less ad-hoc.%
    %Behavior can become the norm.
    %Models need to look at the individual perspective rather than population level.
    %Illustrates the difference between emergent monomorphism and inherent monomorphism
    %Selfish behavior is much less advantageous for the collective

%  \item Perspectives in VI for NE in ecology  Compare to literature also the stuff by Patrizio. remark well-known that worse for species than population-thingy
%    Fast numerics can be implemented by anynone, for a fairly general set of games not just related to populations
%    Feasible to implemement population games generally, behavior can be as much of a choice as seasons
%    Realistic models of ecosystems
%    The work is hinted at in the work of Sandholm, but not developed further.
%    We focus on continuous, but much stronger results actually hold in finite habitat choice setting.
%    It has become possible to include bona-fide continuous habitats.
%  \item
%    Games with long-term optimization can be implemented as differential variational inequalities
%    Multiple species in actual Applications
%    Check the Scalability
%    Try wtih dedicated software, see how fast it can get.
%
%\end{enumerate}
